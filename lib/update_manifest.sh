#!/usr/bin/env bash
# shellcheck disable=SC2034
#
# Single source of truth for all files managed by the update system.
# Both common_update.sh and scripts/update-checksums.sh source this file.
#

# All files that should be downloaded and checksum-verified during update
UPDATE_MANIFEST_FILES=(
  "sing-box-deve.sh"
  "version"
  "README.md"
  "CHANGELOG.md"
  "CONTRIBUTING.md"
  "LICENSE"
  "config.env.example"
  "lib/common.sh"
  "lib/common_base.sh"
  "lib/common_init.sh"
  "lib/common_settings.sh"
  "lib/common_update_sources.sh"
  "lib/common_update.sh"
  "lib/common_update_base.sh"
  "lib/common_update_lock.sh"
  "lib/common_update_rollback.sh"
  "lib/common_update_methods.sh"
  "lib/common_context.sh"
  "lib/common_doctor.sh"
  "lib/update_manifest.sh"
  "lib/protocols.sh"
  "lib/security.sh"
  "lib/security_firewall_core.sh"
  "lib/security_firewall_ops.sh"
  "lib/legacy_compat.sh"
  "lib/providers.sh"
  "lib/providers_base.sh"
  "lib/providers_base_protocol.sh"
  "lib/providers_base_runtime.sh"
  "lib/providers_params.sh"
  "lib/providers_multi_ports_store.sh"
  "lib/providers_multi_ports_runtime.sh"
  "lib/providers_jump_store.sh"
  "lib/providers_release.sh"
  "lib/providers_outbound.sh"
  "lib/providers_routing_port_egress.sh"
  "lib/providers_routing.sh"
  "lib/providers_argo.sh"
  "lib/providers_share.sh"
  "lib/providers_config_shared.sh"
  "lib/protocol_inbounds_singbox.sh"
  "lib/protocol_inbounds_xray.sh"
  "lib/providers_config_singbox.sh"
  "lib/providers_config_xray.sh"
  "lib/protocol_links_common.sh"
  "lib/protocol_links_direct.sh"
  "lib/protocol_links_argo.sh"
  "lib/protocol_links_variants.sh"
  "lib/providers_nodes.sh"
  "lib/providers_clash_rulesets.sh"
  "lib/providers_client_templates.sh"
  "lib/providers_install.sh"
  "lib/providers_serv00.sh"
  "lib/providers_sap.sh"
  "lib/providers_docker.sh"
  "lib/providers_manage.sh"
  "lib/providers_warp_tools.sh"
  "lib/providers_port_seed.sh"
  "lib/providers_ports.sh"
  "lib/providers_ports_port.sh"
  "lib/providers_ports_egress.sh"
  "lib/providers_port_egress.sh"
  "lib/providers_config_ops.sh"
  "lib/providers_protocol_ops.sh"
  "lib/providers_config_lock.sh"
  "lib/providers_config_flow.sh"
  "lib/providers_split3.sh"
  "lib/providers_jump_validate.sh"
  "lib/providers_jump_ports.sh"
  "lib/providers_multi_ports.sh"
  "lib/providers_system_tools.sh"
  "lib/providers_subscriptions.sh"
  "lib/providers_panel.sh"
  "lib/providers_panel_matrix.sh"
  "lib/providers_panel_matrix_enabled_helpers.sh"
  "lib/providers_panel_matrix_enabled.sh"
  "lib/providers_doctor.sh"
  "lib/providers_uninstall.sh"
  "lib/output.sh"
  "lib/menu.sh"
  "lib/menu_base.sh"
  "lib/menu_sections.sh"
  "lib/menu_sections_view.sh"
  "lib/menu_sections_ops.sh"
  "lib/menu_subscriptions.sh"
  "lib/menu_config_center.sh"
  "lib/menu_ops.sh"
  "lib/menu_main.sh"
  "lib/cli_args.sh"
  "lib/cli_args_common.sh"
  "lib/cli_args_port_egress.sh"
  "lib/cli_args_update.sh"
  "lib/cli_commands.sh"
  "lib/cli_commands_misc.sh"
  "lib/cli_commands_install.sh"
  "lib/cli_wizard.sh"
  "lib/cli_main_handlers.sh"
  "lib/cli_usage.sh"
  "lib/cli_main.sh"
  "docs/README.md"
  "docs/V1-SPEC.md"
  "docs/CONVENTIONS.md"
  "docs/ACCEPTANCE-MATRIX.md"
  "docs/PANEL-TEMPLATE.md"
  "docs/REAL-WORLD-VALIDATION.md"
  "docs/Serv00.md"
  "docs/SAP.md"
  "docs/Docker.md"
  "examples/vps-lite.env"
  "examples/vps-full-argo.env"
  "examples/docker.env"
  "examples/settings.conf"
  "examples/serv00-accounts.json"
  "examples/sap-accounts.json"
  "rulesets/clash/geosite-cn.yaml"
  "rulesets/clash/geoip-cn.yaml"
  "rulesets/sing/geosite-cn.srs"
  "rulesets/sing/geoip-cn.srs"
  "web-generator/index.html"
  "web-generator/style.css"
  "web-generator/app.js"
  "providers/entry.sh"
  "providers/vps.sh"
  "providers/serv00.sh"
  "providers/sap.sh"
  "providers/docker.sh"
  "scripts/acceptance-matrix.sh"
  "scripts/integration-smoke.sh"
  "scripts/consistency-check.sh"
  "scripts/regression-docker.sh"
  "scripts/test-clash-ruleset.sh"
  "scripts/update-checksums.sh"
  ".github/workflows/main.yml"
  ".github/workflows/mainh.yml"
  ".github/workflows/ci.yml"
  ".github/workflows/full-regression.yml"
  "workers/_worker.js"
  "workers/workers_keep.js"
)

# Files that need executable permission after update
UPDATE_MANIFEST_EXECUTABLES=(
  "sing-box-deve.sh"
  "lib/common.sh"
  "lib/protocols.sh"
  "lib/security.sh"
  "lib/providers.sh"
  "lib/output.sh"
  "providers/entry.sh"
  "providers/vps.sh"
  "providers/serv00.sh"
  "providers/sap.sh"
  "providers/docker.sh"
  "scripts/acceptance-matrix.sh"
  "scripts/integration-smoke.sh"
  "scripts/consistency-check.sh"
  "scripts/regression-docker.sh"
  "scripts/test-clash-ruleset.sh"
  "scripts/update-checksums.sh"
)
